import{o as V,e as x,a as z,r as L,b as F,c as U,d as g,f as i,w as G,g as l,n as T,h as c,t as h,i as E,_ as K,F as $,j as C,u as q,k as D,l as R,m as Q,p as H}from"./index-Xzv2iPBS.js";const J={class:"ui-alert-wrap"},W={class:"modal-header"},X={class:"ui-alert-body"},Y=["innerHTML"],Z={class:"ui-alert-footer"},ee={key:0,class:"btn-bottom-set flex justify-center"},ne={key:1,class:"btn-bottom-set flex justify-center"},te={key:2,class:"btn-bottom-set flex justify-center"},se={__name:"ConfirmModal",setup(y){V(()=>{x.on("modalSimple",(e,o)=>{d("modalSimple",e,o)}),x.on("modalAlert",(e,o)=>{d("modalAlert",e,o)}),x.on("modalConfirm",(e,o)=>{d("modalConfirm",e,o)})}),z(()=>{x.off("modalSimple"),x.off("modalAlert"),x.off("modalConfirm")});const u=L({type:null,isShow:!1,closeButtonHide:!1,types:"",title:"",message:"",html:"",buttonText:{ok:null,cancel:null,confirm:null,close:null},className:"",passedPromise:{resolve:null,reject:null}}),d=(e,o,v)=>{switch(u.type=e,u.isShow=!0,u.passedPromise=v,typeof o){case"object":u.title=o.title||"",u.message=o.message||"",u.html=o.html||"",u.closeButtonHide=o.closeButtonHide,u.className=o.className,u.buttonText={...o.buttonText};break;case"string":u.message=o;break}},b=e=>{switch(console.log(e),u.isShow=!1,u.title="",u.message="",u.html="",u.closeButtonHide=!1,u.buttonText={},e){case"ok":return u.passedPromise.resolve("ok");case"close":return u.passedPromise.reject("close");case"confirm":return u.passedPromise.resolve("confirm");case"cancel":return u.passedPromise.reject("cancel");case"itself":return u.passedPromise.reject("itself");default:return u.passedPromise.reject("close")}};return(e,o)=>{const v=F("Modal");return u.isShow?(i(),U(v,{key:0,close:b},{default:G(()=>[l("div",{class:T(["ui-alert",u.className])},[l("div",J,[l("div",W,[u.closeButtonHide?g("",!0):(i(),c("button",{key:0,type:"button",class:"ui-alert-close",onClick:b},o[5]||(o[5]=[l("span",{class:"offscreen"},"창닫기",-1)])))]),l("div",X,[l("p",{class:"ui-alert-msg",innerHTML:u.message},null,8,Y)]),l("div",Z,[u.type==="modalSimple"?(i(),c("div",ee,[u.buttonText.cancel?(i(),c("button",{key:0,type:"button",onClick:o[0]||(o[0]=f=>b("close")),class:"btn btn-alert"},h(u.buttonText.cancel),1)):g("",!0),u.buttonText.ok?(i(),c("button",{key:1,type:"button",onClick:o[1]||(o[1]=f=>b("ok")),class:"btn btn-alert"},h(u.buttonText.ok),1)):g("",!0)])):g("",!0),u.type==="modalConfirm"?(i(),c("div",ne,[u.buttonText.cancel?(i(),c("button",{key:0,type:"button",onClick:o[2]||(o[2]=f=>b("cancel")),class:"btn btn-alert"},h(u.buttonText.cancel),1)):g("",!0),u.buttonText.confirm?(i(),c("button",{key:1,type:"button",onClick:o[3]||(o[3]=f=>b("confirm")),class:"btn btn-alert"},h(u.buttonText.confirm),1)):g("",!0)])):g("",!0),u.type==="modalAlert"?(i(),c("div",te,[u.buttonText.ok?(i(),c("button",{key:0,type:"button",onClick:o[4]||(o[4]=f=>b("ok")),class:"btn btn-alert"},h(u.buttonText.ok),1)):g("",!0)])):g("",!0)])])],2)]),_:1})):g("",!0)}}},le={id:"adminHeader"},ue={class:"util"},oe={__name:"MainHeader",setup(y){L({});const u=L({interval:null,count:18e5,hour:E(()=>String(Math.floor(u.count/36e5)).padStart(2,"0")),min:E(()=>String(Math.floor(u.count%36e5/6e4)).padStart(2,"0")),sec:E(()=>String(Math.floor(u.count%6e4/1e3)).padStart(2,"0"))});return(d,b)=>(i(),c("div",null,[l("header",le,[b[4]||(b[4]=l("h1",null,[l("span",{class:"s-name"},[l("strong",{class:"s-badge"},"P클라우드 포탈")])],-1)),l("ul",ue,[l("li",null,[l("a",{href:"#",class:"pw",onClick:b[0]||(b[0]=(...e)=>d.showModal&&d.showModal(...e))},"비밀번호 변경")]),b[2]||(b[2]=l("li",null,[l("a",{href:"#",class:"session"},"접속 IP 0:0:0:0:0:0:0:1 (마지막 접속 일시 : 2025-04-07 10:00:00)")],-1)),b[3]||(b[3]=l("li",null,[l("a",{href:"#",class:"user"},"김국민님 서비스 관리자")],-1)),l("li",null,[l("a",{href:"#",class:"logout",onClick:b[1]||(b[1]=(...e)=>d.signOut&&d.signOut(...e))},"로그아웃")])])])]))}},ae={id:"adminNav"},ie={class:"admin-nav-scroller"},re={class:"admin-menu-wrap"},ce=["onClick"],be={key:0,class:"depth2"},me=["onClick"],de={key:0,class:"depth3"},pe=["onClick"],fe={__name:"MainMenu",props:{menuList:{type:Array,default:[]}},emits:["gnbOpen"],setup(y,{emit:u}){const d=u;L({});const b=(o,v,f)=>{d("gnbOpen",o,v,f)},e=()=>{console.log("toggleNav"),document.querySelector(".layout").classList.toggle("nav-hide")};return(o,v)=>(i(),c("div",ae,[l("button",{type:"button",class:"nav-toggle",onClick:e},v[0]||(v[0]=[l("span",{class:"offscreen"},"메뉴숨기기",-1)])),g("",!0),l("div",ie,[l("div",re,[l("ul",null,[(i(!0),c($,null,C(y.menuList,(f,M)=>{var A,N;return i(),c("li",{class:"depth",key:M},[l("button",{type:"button",class:T(["admin-menu-item dep1",{active:f.isActive},{"no-child":((A=f==null?void 0:f.submenu)==null?void 0:A.length)==0}]),onClick:k=>b(M)},h(f.label),11,ce),((N=f==null?void 0:f.submenu)==null?void 0:N.length)>0?(i(),c("ul",be,[(i(!0),c($,null,C(f.submenu,(k,S)=>{var B,j;return i(),c("li",{key:S},[l("button",{type:"button",class:T(["admin-menu-item dep2",{active:k.isActive},{"no-child":((B=k==null?void 0:k.submenu)==null?void 0:B.length)==0}]),onClick:w=>b(M,S)},h(k.label),11,me),((j=k==null?void 0:k.submenu)==null?void 0:j.length)>0?(i(),c("ul",de,[(i(),c($,null,C(2,(w,I)=>l("li",{key:I},[l("button",{type:"button",class:T(["admin-menu-item dep3",{active:w.isActive}]),onClick:s=>b(M,S,I)},h(w.label),11,pe)])),64))])):g("",!0)])}),128))])):g("",!0)])}),128))])])])]))}},ge=K(fe,[["__scopeId","data-v-0e7455ec"]]),ke={class:"head-content"},he={class:"breadcrumb"},ve={class:"ui-title-2"},_e={__name:"Location",props:{locations:{type:Array,default:[]}},setup(y){return q(),D(),L({}),(u,d)=>(i(),c("div",ke,[l("ol",he,[d[0]||(d[0]=l("li",{class:"breadcrumb-item"},[l("span",null,"홈")],-1)),(i(!0),c($,null,C(y.locations,(b,e)=>(i(),c("li",{class:"breadcrumb-item",key:e},[l("span",null,h(b),1)]))),128))]),l("div",ve,[l("h2",null,h(y.locations[y.locations.length-1]),1)])]))}},ye={class:"gnbHeader"},Te={class:"gnbInner"},$e=["onClick"],Ce={key:0},Me=["onClick"],Pe={key:0,class:"pageTabs"},xe=["onClick"],Le=["onClick"],Ae={class:"tab-list-control"},Ne={id:"adminContainer"},Se={class:"contents"},we={class:"temp-section"},je={__name:"Index",props:{id:{type:String,default:null}},emits:[""],setup(y,{emit:u}){const d=q(),b=D(),e=L({activeNum:0,activeMenu:!1,submenuActive:0,submenuNum:0,menuList:[{label:"로그 관리",submenu:[{label:"거래 로그 조회",submenu:[{label:"depth3메뉴1",submenu:[],link:"/main"},{label:"depth3메뉴2",submenu:[],link:""},{label:"depth3메뉴3",submenu:[],link:""}],link:""},{label:"로그레벨조회",submenu:[],link:"/loglevel"}],link:""},{label:"전문 관리",submenu:[{label:"전문이력조회",submenu:[{label:"depth3메뉴1",submenu:[],link:"/buildlist"},{label:"depth3메뉴2",submenu:[],link:""},{label:"depth3메뉴3",submenu:[],link:""},{label:"depth3메뉴4",submenu:[],link:""},{label:"depth3메뉴5",submenu:[],link:""}],link:""}],link:""},{label:"메뉴권한관리",submenu:[],link:"/authmanage"},{label:"사용자관리",submenu:[],link:"/orgmanage"},{label:"자료실",submenu:[{label:"공지자료",link:"/notice",submenu:[]},{label:"FAQ",link:"/faq",submenu:[]}],link:""}],currentPage:null,pageTabs:[]}),o=(s,n,t)=>{e.menuList.forEach((a,r)=>{r===s?a.submenu.length===0?d.push(a.link):(a.isActive=!0,a.submenu.forEach((m,p)=>{p===n?(m.isActive=!0,m.submenu.length===0?(d.push(m.link),console.log(m)):m.submenu.forEach((_,P)=>{P===t?(_.isActive=!0,d.push(_.link)):_.isActive=!1})):m.isActive=!1})):a.isActive=!1})},v=(s,n)=>{var a;if(e.activeNum=s,e.activeMenu=!1,e.submenuNum=n,typeof n>"u"||n===null){const r=e.menuList[s];if(!r)return;if(r.submenu&&r.submenu.length>0){e.submenuNum=0;const m=r.submenu[0];if(e.pageTabs.some(p=>p.label===m.label)||e.pageTabs.push(m),m.submenu&&m.submenu.length>0){e.activeMenu=!0;const p=m.submenu[0];d.push(p.link)}else e.submenuActive=0,d.push(m.link)}else e.pageTabs.some(m=>m.label===r.label)||e.pageTabs.push(r),d.push(r.link);return}const t=(a=e.menuList[s])==null?void 0:a.submenu[n];if(t)if(t.submenu&&t.submenu.length>0){e.activeMenu=!0;const r=t.submenu[0];e.pageTabs.some(m=>m.label===t.label)||e.pageTabs.push(t),d.push(r.link)}else e.pageTabs.some(r=>r.label===t.label)||e.pageTabs.push(t),d.push(t.link)},f=E(()=>s=>{const n=e.currentPage.url,t=e.currentPage.label[1];return!s.submenu||s.submenu.length===0?n===s.link||t===s.label:s.submenu&&s.submenu.length>0?n===s.submenu[0].link||t===s.submenu[0].label:!1}),M=(s,n)=>{let t=-1;return s.forEach((a,r)=>{a.link===n&&(t=r),a.submenu&&a.submenu.length>0&&a.submenu.forEach(m=>{m.link===n&&(t=r),m.submenu&&m.submenu.length>0&&m.submenu.forEach(p=>{p.link===n&&(t=r)})})}),t},A=s=>{const n=e.pageTabs.findIndex(t=>t.link===e.currentPage.url||t.submenu&&t.submenu.some(a=>a.link===e.currentPage.url));console.log("state.currentPage",e.currentPage,n),s==="prev"&&n>0?k(e.pageTabs[n-1].label):s==="next"&&n<e.pageTabs.length-1&&k(e.pageTabs[n+1].label)},N=(s,n,t=0)=>{e.activeNum=n,e.submenuNum=t,s.submenu&&s.submenu.length>0?(d.push(s.submenu[0].link),e.activeMenu=!0):(d.push(s.link),e.activeMenu=!1)},k=s=>{console.log("targetLabel",s);for(let n=0;n<e.menuList.length;n++){const t=e.menuList[n];if(t.label===s)return N(t,n),!0;for(let a=0;a<t.submenu.length;a++){const r=t.submenu[a];if(r.label===s)return N(r,n,a),!0}}return!1},S=s=>{for(let n=0;n<e.menuList.length;n++){const t=e.menuList[n];if(t.label===s)return e.activeNum=n,!0;for(let a=0;a<t.submenu.length;a++)if(t.submenu[a].label===s)return e.activeNum=n,e.submenuNum=a,!0}return!1},B=s=>{const n=e.pageTabs.findIndex(t=>t.label===s.label);console.log("currentTabIndex",e.pageTabs[n]),n!==-1&&k(s.label)},j=s=>{const n=e.pageTabs.findIndex(t=>t.label===s.label);if(e.currentPage.url===s.link||s.submenu&&s.submenu.some(t=>t.link===e.currentPage.url)){if(n>0){const t=e.pageTabs[n-1];k(t.label)}else if(n<e.pageTabs.length-1){const t=e.pageTabs[n+1];k(t.label)}}e.pageTabs.splice(n,1)},w=s=>{const n=e.pageTabs.find(t=>t.label===e.currentPage.label[1]);n&&(n.link=s),console.log("state.pageTabs",e.pageTabs)},I=()=>{e.currentPage={url:b.fullPath,label:b.meta.sublocation_depth},w(b.fullPath)};return V(()=>{I(),R(()=>{var n,t,a;const s=M(e.menuList,e.currentPage.url);if(e.activeNum=s,(n=e.menuList[s])!=null&&n.submenu&&e.menuList[s].submenu.length>0){let r=0;e.menuList[s].submenu.forEach((m,p)=>{m.link===e.currentPage.url&&(r=p)}),e.pageTabs.push(e.menuList[s].submenu[r]),e.submenuNum=r,(a=(t=e.menuList[s])==null?void 0:t.submenu[r])!=null&&a.submenu&&e.menuList[s].submenu[r].submenu.length>0&&(e.activeMenu=!0)}else e.pageTabs.push(e.menuList[s])})}),Q(b,()=>{I(),R(()=>{if(e.currentPage&&e.currentPage.label&&Array.isArray(e.currentPage.label)){const s=e.currentPage.label[1];console.log("currentLabel",s);const n=e.pageTabs.find(t=>t.label===s?!0:t.submenu&&t.submenu.length>0?t.submenu.some(a=>a.label===s):!1);if(console.log("foundTab",n),n){S(s);const t=f.value(n);console.log("isActive",t)}}})}),(s,n)=>{var a,r,m;const t=F("RouterView");return i(),c($,null,[l("div",{class:T(["layout",{leftMenu:e.activeMenu}])},[H(oe),l("div",ye,[l("div",Te,[l("ul",null,[(i(!0),c($,null,C(e.menuList,(p,_)=>(i(),c("li",{key:_,class:T({active:e.activeNum==_})},[l("span",{onClick:P=>v(_)},h(p.label),9,$e),p.submenu.length>0?(i(),c("ul",Ce,[(i(!0),c($,null,C(p.submenu,(P,O)=>(i(),c("li",{key:O,class:T({active:e.submenuNum==O})},[l("span",{onClick:Ie=>v(_,O)},h(P.label),9,Me)],2))),128))])):g("",!0)],2))),128))])])]),e.pageTabs?(i(),c("div",Pe,[l("ul",null,[(i(!0),c($,null,C(e.pageTabs,(p,_)=>(i(),c("li",{key:_},[l("button",{type:"button",class:T(["tab-m",{active:f.value(p)}]),onClick:P=>B(p)},h(p.label),11,xe),l("button",{type:"button",class:"close",onClick:P=>j(p)},n[2]||(n[2]=[l("span",{class:"offscreen"},"현재 콘텐츠 닫기",-1)]),8,Le)]))),128))]),l("ul",Ae,[l("li",null,[l("button",{type:"button",class:"prev",onClick:n[0]||(n[0]=p=>A("prev"))},n[3]||(n[3]=[l("span",{class:"offscreen"},"이전 탭으로 이동",-1)]))]),l("li",null,[l("button",{type:"button",class:"next",onClick:n[1]||(n[1]=p=>A("next"))},n[4]||(n[4]=[l("span",{class:"offscreen"},"다음 탭으로 이동",-1)]))])])])):g("",!0),l("div",Ne,[e.activeMenu?(i(),U(ge,{key:0,menuList:(r=(a=e.menuList[e.activeNum])==null?void 0:a.submenu[e.submenuNum])==null?void 0:r.submenu,onGnbOpen:o},null,8,["menuList"])):g("",!0),l("div",Se,[l("div",null,[H(_e,{locations:(m=e.currentPage)==null?void 0:m.label},null,8,["locations"]),l("div",we,[H(t)])])])]),n[5]||(n[5]=l("div",{id:"adminFooter"}," ⓒ2023 KB. All rights Reserved",-1))],2),H(se)],64)}}};export{je as default};
