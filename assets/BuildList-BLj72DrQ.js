import{a1 as S,p as k,s as $,o as O,b as i,g as P,e as b,m as n,w as d,f as e,v as h,u as F,k as L,q as x,r as B,h as j,d as w,c as I,y as z,A as U,F as Y}from"./index-BZnQb6yC.js";import{c as q,r as V,F as T,a as E}from"./index-DvsyHGFD.js";const A={class:"ui-section"},H={class:"tbl-reg-wrap"},W={__name:"BuildForm",props:{modelValue:{type:Object,default:{},required:!0},modelModifiers:{}},emits:S(["modalClose"],["update:modelValue"]),setup(N,{expose:C,emit:p}){const{goToPage:g}=k(),_=p,o=$(N,"modelValue"),y=q().shape({projectName:V.create("빌드명").required(),projectDesc:V.create("빌드 내용").required()}),v=async()=>{if(o.value){const{valid:c}=await o.value.validate();return console.log(c),c}},s=async c=>{const m=await v();console.log(m),m&&$Modal.simple({message:`${o.value.values.projectName} 이 빌드 요청이 완료 되었습니다.`,type:"modalAlert",closeButtonHide:!0,className:"confirm",buttonText:{ok:"확인",cancel:"취소"}}).then(r=>{console.log(r),_("modalClose"),g("/buildlist")}).catch(r=>{console.log(r)})};return O(()=>{}),C({editChange:s,validate:v}),(c,m)=>{const r=i("InputText"),f=i("FormLine"),t=i("Textarea");return b(),P("div",null,[n(h(E),{ref_key:"formRef",ref:o,"validation-schema":h(y),"initial-values":{}},{default:d(({values:a})=>[e("div",A,[e("div",H,[n(f,{labelText:"빌드 명",required:!0},{default:d(()=>[e("div",null,[n(h(T),{name:"projectName"},{default:d(({errors:l,handleChange:u})=>[n(r,{inputPlaceholder:"기업명을 입력하세요.",inputType:"text","model-value":a.projectName,"error-messages":l,"onUpdate:modelValue":u},null,8,["model-value","error-messages","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024),n(f,{labelText:"빌드 내용",required:!0},{default:d(()=>[e("div",null,[n(h(T),{name:"projectDesc"},{default:d(({errors:l,handleChange:u})=>[n(t,{inputPlaceholder:"내용을 입력하세요","model-value":a.projectDesc,"error-messages":l,"onUpdate:modelValue":u},null,8,["model-value","error-messages","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024)])])]),_:1},8,["validation-schema"])])}}},G={class:"item"},J={class:"input"},Z={class:"dv"},K={class:"item mt-5 w-100",style:{"margin-left":"0"}};const ae={__name:"BuildList",props:{propsName:{type:Object,default:()=>{}}},emits:[""],setup(N,{emit:C}){const{dayJS:p,goToPage:g}=k();F(),L();const _=x(),o=B({groupname:"",prname:"",pageList:[],pagesize:10,modalType:!1,value:[{headerCheckboxSelection:!0,checkboxSelection:!0,maxWidth:30},{headerName:"전문ID",field:"prname",flex:1,cellRenderer:t=>{const a=`<div id="prname-${t.node.rowIndex}"><a href="javascript:void(0)" class="link">${t.data.prname}</a></div>`,l=document.createElement("div");return l.innerHTML=a,l.querySelector(`#prname-${t.node.rowIndex}`).addEventListener("click",D=>{g("/main/mainview")}),l}},{headerName:"결과코드",field:"prtype",flex:1},{headerName:"전달 일시",field:"register",flex:1}],rowData:[{prname:"WCZ75A11751_I",prenname:"build-UCA-591",prtype:"build-UCA-591",register:"김용국",url:"",date:"2023.04.12 13:22:14",view:""}],defaultColDef:{sortable:!1,filter:!1,resizable:!1,headerClass:"centered",cellClass:"centered",flex:1},dayOpionType:"month",dataChange:!1}),y=x(null),v=(t,a)=>{console.log(p(t).format("YYYY-MM-DD"),p(a).format("YYYY-MM-DD"))},s=B({current:1,currentPageSize:0,size:o.pagesize,offset:j(()=>(s.current-1)*s.size),totalCnt:0}),c=async(t,a)=>{var l;console.log(t,a),t==="modalconfirm"?(l=_.value)==null||l.editChange():o.modalType=!1},m=t=>{s.current=t,o.value[1].valueGetter="node.rowIndex + "+Number(s.size*(s.current-1)+1),getNoticeList()},r=()=>{console.log("등록")},f=()=>{console.log("삭제")};return(t,a)=>{const l=i("DatePicker"),u=i("SearchBox"),D=i("ListTable"),R=i("default-modal");return b(),P(Y,null,[n(u,{onOnSearchResult:t.onSearchResult,onOnReload:t.onReload},{formItem:d(()=>[e("div",G,[a[2]||(a[2]=e("label",null,"기간조회",-1)),e("div",J,[e("div",Z,[n(l,{ref_key:"datepicker",ref:y,dayOpionType:o.dayOpionType,onSelectDay:v,optionsType:!0},null,8,["dayOpionType"])])])]),e("div",K,[a[7]||(a[7]=e("div",{class:"item"},[e("label",null,"전문ID"),e("div",{class:"input"},[e("div",{class:"dv"},[e("input",{type:"text",class:"form-control",placeholder:"전문 ID를 검색 하세요",style:{width:"200px"}})])])],-1)),a[8]||(a[8]=e("div",{class:"item"},[e("label",null,"결과코드"),e("div",{class:"input"},[e("div",{class:"dv"},[e("input",{type:"text",class:"form-control",placeholder:"결과코드를 검색 하세요",style:{width:"200px"}})])])],-1)),w("",!0),w("",!0)])]),_:1},8,["onOnSearchResult","onOnReload"]),n(D,{selected:!0,downLoad:!0,rowData:o.rowData,totalCnt:s.totalCnt,columnDefs:o.value,defaultColDef:o.defaultColDef,domLayout:"autoHeight",cntPerPage:s.size,itemCount:s.totalCnt,currentPage:s.current,downParams:"downParams",regbuttonName:"생성",deletebuttonName:"삭제",onChangedPage:m,onOnRegister:r,onOnDelete:f},null,8,["rowData","totalCnt","columnDefs","defaultColDef","cntPerPage","itemCount","currentPage"]),n(R,{"is-show":o.modalType,"modal-title":"빌드 요청","button-confirm":"확인","button-cancel":"취소","modal-name":"modalAlert",onModalclose:c},{modalcontent:d(()=>[(b(),I(z(U(W)),{ref_key:"buildFormRef",ref:_,onModalClose:c},null,544))]),_:1},8,["is-show"])],64)}}};export{ae as default};
